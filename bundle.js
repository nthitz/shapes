!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){j.onkeydown=(0,m["default"])(l,200),T.onclick=c,R.onchange=u,F.width=A,F.height=A,o(),j.value=M["default"][0],j.focus(),l()}function o(){M["default"].forEach(function(t){var e=document.createElement("option");e.value=t,e.text=t,R.appendChild(e)})}function u(){j.value=R.value,j.focus(),l()}function a(t){var e=null;s(null);try{e=I["default"].parse(t)}catch(n){return s(n),!1}return(0,S["default"])(e,B)?!1:(B=e,!0)}function s(t){if(console.log(t),null===t)L.textContent="",L.style.display="none";else{var e="line: "+t.location.start.line+" offset "+t.location.start.offset+": "+t;L.textContent=e,L.style.display="block"}}function c(){f(!0)}function l(){f(!1)}function f(t){function e(){function t(){function t(){B.angle.random&&(c+=.5*(Math.random()-.5))}B.angle&&(B.angle.influence?"centerOrientation"===B.angle.influence?(c=Math.atan2(s-A/2,a-A/2),t()):"flowField"===B.angle.influence&&(c=Math.cos(a*u.flowField.x)+Math.cos(s*u.flowField.y),t()):B.angle.random&&(c=Math.random()*o))}function n(){function t(){return U.push(e),!0}var e=null;if("line"===B.shape.type?e=[[a-Math.cos(c)*i,s-Math.sin(c)*i],[a+Math.cos(c)*i,s+Math.sin(c)*i]]:"polygon"===B.shape.type?e=h(a,s,i*Math.sqrt(2),c,B.shape.n):"circle"===B.shape.type&&(e={x:a,y:s,r:i}),!B.condition)return t();if("undefined"==typeof B.condition.intersect)return t();if(0===U.length)return t();var n=function(){return d("intersect not implemented for "+B.shape.type),Math.random()>.5};"line"===B.shape.type?n=x["default"]:"polygon"===B.shape.type?n=y:"circle"===B.shape.type&&(n=g);var r=!0,o=[0,U.length];if("undefined"!=typeof B.condition.last){Math.max(0,U.length-B.condition.last)}for(var u=o[0];u<o[1];u++){var l=U[u];if(n(e,l)&&(r=!1,B.condition.intersect))return t()}return!B.condition.intersect&&r?t():!1}function r(){q.fillStyle=N,q.strokeStyle=N,q.save(),q.beginPath();var t=U[U.length-1];"polygon"===B.shape.type?p(t):"line"===B.shape.type?(q.moveTo(t[0][0],t[0][1]),q.lineTo(t[1][0],t[1][1]),q.stroke()):"circle"===B.shape.type&&(q.arc(a,s,i,0,o,!0),q.fill()),q.restore()}O=requestAnimationFrame(e);var a=Math.random()*A,s=Math.random()*A,c=0;t();var l=n();l&&r()}var n=j.value,r=a(n);if(r||t){cancelAnimationFrame(O),console.log(B),U.length=0,window.shapes=U,q.clearRect(0,0,A,A),O=requestAnimationFrame(e);var i=B.size/2,o=2*Math.PI,u={};B&&B.angle&&B.angle.influence&&"flowField"===B.angle.influence&&(u.flowField={x:.02*Math.random()-.01,y:.02*Math.random()-.01})}}function p(t){q.beginPath(),t.forEach(function(t,e){0===e?q.moveTo(t.x,t.y):q.lineTo(t.x,t.y)}),q.fill()}function d(t){-1===z.indexOf(t)&&(z.push(t),console.error(t))}function y(t,e){return 0!==(0,w["default"])(t,e).length}function h(t,e,n,r,i){for(var o=arguments.length<=5||void 0===arguments[5]?"object":arguments[5],u=[],a=0;i>a;a++){var s=2*Math.PI*(a/i)+r+Math.PI/4,c=Math.cos(s)*n+t,l=Math.sin(s)*n+e;u.push("object"===o?{x:c,y:l}:[c,l])}return u}function g(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(e.r+t.r,2)}var v=n(10),m=r(v),b=n(9),x=r(b),_=n(16),w=r(_),E=n(6),S=r(E),P=n(22),k=(r(P),n(19)),I=r(k),C=n(4),M=r(C),A=600,O=null,j=document.getElementById("code"),R=document.getElementById("exampleSelect"),T=document.getElementById("reset"),F=document.getElementById("canvas"),L=document.getElementById("errors"),q=F.getContext("2d"),B=null,U=[],N="white";i();var z=[]},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i={undefined:0,outPoly:1,inPoly:2,onEdge:3},o=function(){function t(e,r){n(this,t),this.x=e,this.y=r,this.distance=0,this._state=i.undefined}return r(t,[{key:"toString",value:function(){return"Point"}},{key:"setState",value:function(t){this._state=t}},{key:"getState",value:function(){return this._state}},{key:"calcDistance",value:function(t){this.distance=Math.sqrt(Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2)),this.distance=Math.round(100*this.distance)/100}},{key:"valueOf",value:function(){return{x:this.x,y:this.y}}},{key:"isCoordEqual",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"compare",value:function(t){if(Array.isArray(t)&&t.length){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value;if(this.isCoordEqual(u))return!1}}catch(a){n=!0,r=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}}else if("Point"===t.toString()&&this.isCoordEqual(t))return!1;return!0}}]),t}();e.Point=o,e.pointState=i},function(t,e){"use strict";function n(t){var e="undefined"==typeof t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1).Point,u=n(1).pointState,a={undefined:0,outOut:1,outIn:2,inOut:3,inIn:4},s=function(){function t(e,n){r(this,t),this._p1=e,this._p2=n,this._state=a.undefined,this._intersectElements=[],this._intersectCount=0}return i(t,[{key:"getStartPoint",value:function(){return this._p1}},{key:"getEndPoint",value:function(){return this._p2}},{key:"changePoints",value:function(){var t=this._p1;this._p1=this._p2,this._p2=t}},{key:"isPointExist",value:function(t){return this._p1.x===t.x&&this._p1.y===t.y||this._p2.x===t.x&&this._p2.y===t.y}},{key:"setState",value:function(t){switch(t){case u.outPoly:this._state=this._intersectCount%2?a.outIn:a.outOut;break;case u.inPoly:case u.onEdge:this._state=this._intersectCount%2?a.inOut:a.inIn}}},{key:"getState",value:function(){return this._state}},{key:"getIntersectElements",value:function(){return this._intersectElements}},{key:"addIntersectElement",value:function(t,e){this._intersectCount++,this._intersectElements.push({edge:t,point:e})}},{key:"getIntersectCount",value:function(){return this._intersectCount}},{key:"isIntersectHorizontalRayPoint",value:function(t){return t.y>=this._p1.y&&t.y<this._p2.y||t.y>=this._p2.y&&t.y<this._p1.y}},{key:"getIntersectionRayX",value:function(t){return(this._p2.x-this._p1.x)*(t.y-this._p1.y)/(this._p2.y-this._p1.y)+this._p1.x}},{key:"findIntersectingPoint",value:function(t){var e=(t._p2.y-t._p1.y)*(this._p2.x-this._p1.x)-(t._p2.x-t._p1.x)*(this._p2.y-this._p1.y),n=(t._p2.x-t._p1.x)*(this._p1.y-t._p1.y)-(t._p2.y-t._p1.y)*(this._p1.x-t._p1.x),r=(this._p2.x-this._p1.x)*(this._p1.y-t._p1.y)-(this._p2.y-this._p1.y)*(this._p1.x-t._p1.x);if(!e||!n&&!r)return!1;var i=n/e,u=r/e;if(0>i||i>1||0>u||u>1)return!1;var a=Math.round(100*(this._p1.x+i*(this._p2.x-this._p1.x)))/100,s=Math.round(100*(this._p1.y+i*(this._p2.y-this._p1.y)))/100;return new o(a,s)}}]),t}();e.Edge=s,e.edgeState=a},function(t,e){"use strict";t.exports=["20px triangle angle influenced by flow field not intersecting","20px line random angle influenced by flow field","40px line random angle influenced by orientation to center only draw if not intersecting","30px square random angle only draw if intersecting","40px circle only draw if intersecting","20px 3gon","30px hexagon","20px triangle random angle only draw if not intersecting","20px square random angle","20px line random angle","20px line only draw if not intersecting or first","40px line random angle only draw if intersecting","30px square random angle only draw if intersecting last 10 or first","20px line only draw if not intersecting last 50 or first","20px line only draw if not intersecting last 50","20px line random angle only draw if not intersecting last 50","20px line random angle influenced by flow field only draw if not intersecting last 50"]},function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var u=e[i];"number"==typeof u[0]&&r[u[0]]||(n&&!u[2]?u[2]=n:n&&(u[2]="("+u[2]+") and ("+n+")"),t.push(u))}},t}},function(t,e,n){"use strict";function r(t){return null===t||void 0===t}function i(t){return t&&"object"===("undefined"==typeof t?"undefined":u(t))&&"number"==typeof t.length?"function"!=typeof t.copy||"function"!=typeof t.slice?!1:!(t.length>0&&"number"!=typeof t[0]):!1}function o(t,e,n){var o,f;if(r(t)||r(e))return!1;if(t.prototype!==e.prototype)return!1;if(c(t))return c(e)?(t=a.call(t),e=a.call(e),l(t,e,n)):!1;if(i(t)){if(!i(e))return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}try{var p=s(t),d=s(e)}catch(y){return!1}if(p.length!=d.length)return!1;for(p.sort(),d.sort(),o=p.length-1;o>=0;o--)if(p[o]!=d[o])return!1;for(o=p.length-1;o>=0;o--)if(f=p[o],!l(t[f],e[f],n))return!1;return("undefined"==typeof t?"undefined":u(t))===("undefined"==typeof e?"undefined":u(e))}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=Array.prototype.slice,s=n(8),c=n(7),l=t.exports=function(t,e,n){return n||(n={}),t===e?!0:t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=("undefined"==typeof t?"undefined":u(t))&&"object"!=("undefined"==typeof e?"undefined":u(e))?n.strict?t===e:t==e:o(t,e,n)}},function(t,e){"use strict";function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==("undefined"==typeof t?"undefined":i(t))&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=o?n:r,e.supported=n,e.unsupported=r},function(t,e){"use strict";function n(t){var e=[];for(var n in t)e.push(n);return e}e=t.exports="function"==typeof Object.keys?Object.keys:n,e.shim=n},function(t,e){"use strict";function n(t,e,n){var o,u,a=t[0][0],s=t[0][1],c=t[1][0],l=t[1][1],f=e[0][0],p=e[0][1],d=e[1][0],y=e[1][1],h=!1,g=n||6,v=(a-c)*(p-y)-(s-l)*(f-d);return 0==v?i((p-s)*(c-a),g)==i((l-s)*(f-a),g)&&(h=r(f,p,a,s,c,l,g)||r(d,y,a,s,c,l,g)):(o=((a*l-s*c)*(f-d)-(a-c)*(f*y-p*d))/v,u=((a*l-s*c)*(p-y)-(s-l)*(f*y-p*d))/v,h=r(o,u,a,s,c,l,g)&&r(o,u,f,p,d,y,g)),h}function r(t,e,n,r,o,u,a){return i(Math.min(n,o),a)<=i(t,a)&&i(t,a)<=i(Math.max(n,o),a)&&i(Math.min(r,u),a)<=i(e,a)&&i(e,a)<=i(Math.max(r,u),a)}function i(t,e){return parseInt(t*Math.pow(10,e))}t.exports=n},function(t,e,n){"use strict";function r(t,e,n){function r(e){var n=m,r=b;return m=b=void 0,S=e,_=t.apply(r,n)}function l(t){return S=t,w=setTimeout(d,e),P?r(t):_}function f(t){var n=t-E,r=t-S,i=e-n;return k?c(i,x-r):i}function p(t){var n=t-E,r=t-S;return!E||n>=e||0>n||k&&r>=x}function d(){var t=o();return p(t)?y(t):void(w=setTimeout(d,f(t)))}function y(t){return clearTimeout(w),w=void 0,I&&m?r(t):(m=b=void 0,_)}function h(){void 0!==w&&clearTimeout(w),E=S=0,m=b=w=void 0}function g(){return void 0===w?_:y(o())}function v(){var t=o(),n=p(t);if(m=arguments,b=this,E=t,n){if(void 0===w)return l(E);if(k)return clearTimeout(w),w=setTimeout(d,e),r(E)}return void 0===w&&(w=setTimeout(d,e)),_}var m,b,x,_,w,E=0,S=0,P=!1,k=!1,I=!0;if("function"!=typeof t)throw new TypeError(a);return e=u(e)||0,i(n)&&(P=!!n.leading,k="maxWait"in n,x=k?s(u(n.maxWait)||0,e):x,I="trailing"in n?!!n.trailing:I),v.cancel=h,v.flush=g,v}var i=n(2),o=n(14),u=n(15),a="Expected a function",s=Math.max,c=Math.min;t.exports=r},function(t,e,n){"use strict";function r(t){var e=i(t)?s.call(t):"";return e==o||e==u}var i=n(2),o="[object Function]",u="[object GeneratorFunction]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e){"use strict";function n(t){return!!t&&"object"==("undefined"==typeof t?"undefined":r(t))}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.exports=n},function(t,e,n){"use strict";function r(t){return"symbol"==("undefined"==typeof t?"undefined":i(t))||o(t)&&s.call(t)==u}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=n(12),u="[object Symbol]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e){"use strict";var n=Date.now;t.exports=n},function(t,e,n){"use strict";function r(t){if("number"==typeof t)return t;if(u(t))return a;if(o(t)){var e=i(t.valueOf)?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=l.test(t);return n||f.test(t)?p(t.slice(2),n?2:8):c.test(t)?a:+t}var i=n(11),o=n(2),u=n(13),a=NaN,s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt;t.exports=r},function(t,e,n){"use strict";function r(t,e){function n(i){var o=t.isEdgeExist(m.edge)?e:t,s=o===t?e:t,c=m.edge.getStartPoint(),y=m.edge.getEndPoint();o.isPointInPoly(c),o.isPointInPoly(y);var h=new l(m.point,c),g=new l(m.point,y),b=[].slice.call(o.getEdges());a(b,i),u(h,b),u(g,b),h.setState(c.getState()),g.setState(y.getState());var x=void 0,_=void 0;if(c.getState()===f.outPoly&&h.getIntersectCount()%2||c.getState()===(f.inPoly||f.onEdge)&&!(h.getIntersectCount()%2)?(x=c,_=h):(x=y,_=g),_.getIntersectCount()){var w=d(_,m.point);if(w)return i=m.edge,m=w,r(w.point,o),n(i)}b=[].slice.call(s.getEdges()),a(b,m.edge);var E=void 0,S=!0,P=!1,k=void 0;try{for(var I,C=b[Symbol.iterator]();!(S=(I=C.next()).done);S=!0){var M=I.value;if(M.isPointExist(x)){E=M;break}}}catch(A){P=!0,k=A}finally{try{!S&&C["return"]&&C["return"]()}finally{if(P)throw k}}E.getStartPoint().isCoordEqual(x)||E.changePoints(),s.setDirection(m.edge,E);for(var O=0;O<s.getEdges().length;O++)if(0!==O&&(E=s.getNextEdge()),v=E.getStartPoint(),p(v,o),u(E,o.getEdges()),E.getIntersectCount()){if(m=d(E,v),!m)return;return r(m.point,o),n(E)}}function r(t,e){t.getState()===f.undefined&&e.isPointInPoly(t);var n=g.getLast();n.isIntersectionEnd()&&g.add(new s),n.addPoint(t)}function p(t,e){t.compare(g.getPoints())&&e.isPointInPoly(t)&&r(t,e)}function d(t,e){var n=t.getIntersectElements();return n=n.filter(function(t){return t.point.compare(g.getPoints())}),n.length?(t.setState(e.getState()),n.length>1&&(n.forEach(function(t){return t.point.calcDistance(e)}),n.sort(function(t,e){return t.point.distance-e.point.distance})),n[0]):(g.getLast().endIntersection(),!1)}try{i(t,e)}catch(y){return y}t=new s(t),e=new s(e);var h=o(t,e);if(h)return h;var g=new c;g.add(new s);var v=void 0,m=void 0,b=t.getEdges(),x=!0,_=!1,w=void 0;try{for(var E,S=b[Symbol.iterator]();!(x=(E=S.next()).done);x=!0){var P=E.value;v=P.getStartPoint(),p(v,e),u(P,e.getEdges()),P.getIntersectCount()&&(m=d(P,v),m&&(r(m.point,e),n(P)))}}catch(k){_=!0,w=k}finally{try{!x&&S["return"]&&S["return"]()}finally{if(_)throw w}}return g.getResult()}function i(t,e){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Both of input values must be an array");if(t.length<3||e.length<3)throw new RangeError("Lengths of input values must be greater than two")}function o(t,e){for(var n=void 0,r=[t,e],i=0;i<r.length;i++){var o=r[i],u=o===t?e:t;if(n=o.calcPointsInPoly(u),n===o.getPoints().length)return o.getPointsResult();if(n)break}return!1}function u(t,e){if(!t.getIntersectElements().length){var n=void 0;e.forEach(function(e){n=t.findIntersectingPoint(e),"Point"===n.toString()&&t.addIntersectElement(e,n)})}}function a(t,e){var n=t.indexOf(e);return n+1&&t.splice(n,1),t}var s=n(17),c=n(18),l=n(3).Edge,f=n(1).pointState;t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(3).Edge,u=n(1).Point,a=n(1).pointState,s={backward:0,forward:1},c=function(){function t(e){r(this,t),Array.isArray(e)&&e.length||(e=[]),this._points=e.map(function(t){return new u(t.x,t.y)}),this._edges=this._points.map(function(t,e,n){return new o(t,n[(e+1)%n.length])}),this._edgesIndex=0,this._direction=s.forward,this._intersectionEnd=!1}return i(t,[{key:"isIntersectionEnd",value:function(){return this._intersectionEnd}},{key:"endIntersection",value:function(){this._intersectionEnd=!0}},{key:"getEdges",value:function(){return this._edges}},{key:"getNextEdge",value:function(){return this._direction===s.backward?this._edgesIndex=--this._edgesIndex<0?this._edges.length-1:this._edgesIndex:this._edgesIndex=++this._edgesIndex%this._edges.length,this._edges[this._edgesIndex]}},{key:"isEdgeExist",value:function(t){return this._edges.indexOf(t)+1}},{key:"setDirection",value:function(t,e){var n=this._edges.indexOf(t),r=this._edges.indexOf(e);this._edgesIndex=r,this._direction=r%(this._edges.length-1)<=n?s.backward:s.forward}},{key:"getPoints",value:function(){return this._points}},{key:"isPointsOnEdgesAndOut",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this._points[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;if(o.getState()!==a.outPoly&&o.getState()!==a.onEdge)return!1}}catch(u){e=!0,n=u}finally{try{!t&&i["return"]&&i["return"]()}finally{if(e)throw n}}return!0}},{key:"getPointsResult",value:function(){return this._points.map(function(t){return t.valueOf()})}},{key:"addPoint",value:function(t){this._points.push(t)}},{key:"isPointExist",value:function(t){return this._points.indexOf(t)+1}},{key:"calcPointsInPoly",value:function(t){var e=0;return this._points.forEach(function(n){t.isPointInPoly(n)&&e++}),e}},{key:"isPointInPoly",value:function(t){var e=!1,n=void 0;return this._edges.forEach(function(r){r.isIntersectHorizontalRayPoint(t)&&(n=r.getIntersectionRayX(t),t.x===n&&t.setState(a.onEdge),e=t.x<=n?!e:e)}),t.getState()===a.undefined&&t.setState(e?a.inPoly:a.outPoly),e}}]),t}();t.exports=c},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){r(this,t),this._polygons=[]}return i(t,[{key:"add",value:function(t){this._polygons.push(t)}},{key:"getLast",value:function(){return this._polygons[this.getLength()-1]}},{key:"getLength",value:function(){return this._polygons.length}},{key:"getPoints",value:function(){var t,e=this._polygons.map(function(t){return t.getPoints()});return(t=[]).concat.apply(t,n(e))}},{key:"getResult",value:function(){var t;if(this._polygons=this._polygons.filter(function(t){return t.getPoints().length&&!t.isPointsOnEdgesAndOut()}),!this._polygons.length)return this._polygons;var e=this._polygons.map(function(t){return t.getPointsResult()});return e.length>1&&this.getLast().getPoints().length?e:(t=[]).concat.apply(t,n(e))}}]),t}();t.exports=o},function(t,e){"use strict";t.exports=function(){function t(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function e(t,n,r,i){this.message=t,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}function n(t){function n(){return t.substring(te,Zt)}function r(e){var n,r,i=ee[e];if(i)return i;for(n=e-1;!ee[n];)n--;for(i=ee[n],i={line:i.line,column:i.column,seenCR:i.seenCR};e>n;)r=t.charAt(n),"\n"===r?(i.seenCR||i.line++,i.column=1,i.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(i.line++,i.column=1,i.seenCR=!0):(i.column++,i.seenCR=!1),n++;return ee[e]=i,i}function i(t,e){var n=r(t),i=r(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:i.line,column:i.column}}}function o(t){ne>Zt||(Zt>ne&&(ne=Zt,re=[]),re.push(t))}function u(t,n,r,i){function o(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function u(t,e){function n(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0100-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1000-\uFFFF]/g,function(t){return"\\u"+e(t)})}var r,i,o,u=new Array(t.length);for(o=0;o<t.length;o++)u[o]=t[o].description;return r=t.length>1?u.slice(0,-1).join(", ")+" or "+u[t.length-1]:u[0],i=e?'"'+n(e)+'"':"end of input","Expected "+r+" but "+i+" found."}return null!==n&&o(n),new e(null!==t?t:u(n,r),n,r,i)}function a(){var t,e,n,r,i,u,a,c;return ie++,t=Zt,e=v(),e!==x?(n=p(),n!==x?(r=v(),r!==x?(i=s(),i===x&&(i=null),i!==x?(u=v(),u!==x?(a=f(),a===x&&(a=null),a!==x?(c=v(),c!==x?(te=t,e=S(n,i,a),t=e):(Zt=t,t=x)):(Zt=t,t=x)):(Zt=t,t=x)):(Zt=t,t=x)):(Zt=t,t=x)):(Zt=t,t=x)):(Zt=t,t=x),ie--,t===x&&(e=x,0===ie&&o(E)),t}function s(){var e,n,r,i,u,a;return ie++,e=Zt,t.substr(Zt,6)===k?(n=k,Zt+=6):(n=x,0===ie&&o(I)),n===x&&(n=null),n!==x?(r=v(),r!==x?(t.substr(Zt,5)===C?(i=C,Zt+=5):(i=x,0===ie&&o(M)),i!==x?(u=v(),u!==x?(a=c(),a===x&&(a=null),a!==x?(te=e,n=A(n,a),e=n):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x),e===x&&(e=Zt,n=v(),n!==x&&(te=e,n=O()),e=n),ie--,e===x&&(n=x,0===ie&&o(P)),e}function c(){var e,n,r,i;return ie++,e=Zt,t.substr(Zt,13)===R?(n=R,Zt+=13):(n=x,0===ie&&o(T)),n!==x?(r=v(),r!==x?(i=l(),i!==x?(te=e,n=F(i),e=n):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x),ie--,e===x&&(n=x,0===ie&&o(j)),e}function l(){var e,n,r,i;return ie++,e=Zt,t.substr(Zt,4)===q?(n=q,Zt+=4):(n=x,0===ie&&o(B)),n!==x?(r=v(),r!==x?(t.substr(Zt,5)===U?(i=U,Zt+=5):(i=x,0===ie&&o(N)),i!==x?(te=e,n=z(),e=n):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x),e===x&&(e=Zt,t.substr(Zt,21)===D?(n=D,Zt+=21):(n=x,0===ie&&o($)),n!==x&&(te=e,n=H()),e=n),ie--,e===x&&(n=x,0===ie&&o(L)),e}function f(){var e,n,r,i,u,a,s,c;return ie++,e=Zt,t.substr(Zt,12)===X?(n=X,Zt+=12):(n=x,0===ie&&o(G)),n===x&&(n=null),n!==x?(r=v(),r!==x?(t.substr(Zt,17)===J?(i=J,Zt+=17):(i=x,0===ie&&o(K)),i!==x?(u=v(),u!==x?(a=g(),a!==x?(s=v(),s!==x?(t.substr(Zt,8)===Q?(c=Q,Zt+=8):(c=x,0===ie&&o(V)),c===x&&(c=null),c!==x?(te=e,n=Y(a),e=n):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x),e===x&&(e=Zt,t.substr(Zt,12)===X?(n=X,Zt+=12):(n=x,0===ie&&o(G)),n===x&&(n=null),n!==x?(r=v(),r!==x?(t.substr(Zt,21)===Z?(i=Z,Zt+=21):(i=x,0===ie&&o(tt)),i!==x?(u=v(),u!==x?(a=g(),a!==x?(s=v(),s!==x?(t.substr(Zt,8)===Q?(c=Q,Zt+=8):(c=x,0===ie&&o(V)),c===x&&(c=null),c!==x?(te=e,n=et(a),e=n):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x),e===x&&(e=Zt,t.substr(Zt,12)===X?(n=X,Zt+=12):(n=x,0===ie&&o(G)),n===x&&(n=null),n!==x?(r=v(),r!==x?(t.substr(Zt,12)===nt?(i=nt,Zt+=12):(i=x,0===ie&&o(rt)),i!==x?(u=v(),u!==x?(t.substr(Zt,8)===Q?(a=Q,Zt+=8):(a=x,0===ie&&o(V)),a===x&&(a=null),a!==x?(te=e,n=it(),e=n):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x),e===x&&(e=Zt,t.substr(Zt,12)===X?(n=X,Zt+=12):(n=x,0===ie&&o(G)),n===x&&(n=null),n!==x?(r=v(),r!==x?(t.substr(Zt,16)===ot?(i=ot,Zt+=16):(i=x,0===ie&&o(ut)),i!==x?(u=v(),u!==x?(t.substr(Zt,8)===Q?(a=Q,Zt+=8):(a=x,0===ie&&o(V)),a===x&&(a=null),a!==x?(te=e,n=at(),e=n):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)))),ie--,e===x&&(n=x,0===ie&&o(W)),e}function p(){var t,e,n,r;return ie++,t=Zt,e=h(),e!==x?(n=v(),n!==x?(r=d(),r!==x?(te=t,e=ct(e,r),t=e):(Zt=t,t=x)):(Zt=t,t=x)):(Zt=t,t=x),ie--,t===x&&(e=x,0===ie&&o(st)),t}function d(){var e,n;return ie++,e=Zt,t.substr(Zt,4)===ft?(n=ft,Zt+=4):(n=x,0===ie&&o(pt)),n!==x&&(te=e,n=dt()),e=n,e===x&&(e=Zt,t.substr(Zt,6)===yt?(n=yt,Zt+=6):(n=x,0===ie&&o(ht)),n!==x&&(te=e,n=gt()),e=n,e===x&&(e=Zt,n=y(),n!==x&&(te=e,n=vt(n)),e=n)),ie--,e===x&&(n=x,0===ie&&o(lt)),e}function y(){var e,n,r,i,u;return ie++,e=Zt,t.substr(Zt,8)===bt?(n=bt,Zt+=8):(n=x,0===ie&&o(xt)),n!==x&&(te=e,n=_t()),e=n,e===x&&(e=Zt,t.substr(Zt,6)===wt?(n=wt,Zt+=6):(n=x,0===ie&&o(Et)),n!==x&&(te=e,n=St()),e=n,e===x&&(e=Zt,t.substr(Zt,8)===Pt?(n=Pt,Zt+=8):(n=x,0===ie&&o(kt)),n!==x&&(te=e,n=It()),e=n,e===x&&(e=Zt,t.substr(Zt,7)===Ct?(n=Ct,Zt+=7):(n=x,0===ie&&o(Mt)),n!==x&&(te=e,n=At()),e=n,e===x&&(e=Zt,t.substr(Zt,8)===Ot?(n=Ot,Zt+=8):(n=x,0===ie&&o(jt)),n!==x&&(te=e,n=Rt()),e=n,e===x&&(e=Zt,t.substr(Zt,7)===Tt?(n=Tt,Zt+=7):(n=x,0===ie&&o(Ft)),n!==x&&(te=e,n=Lt()),e=n,e===x&&(e=Zt,n=g(),n!==x?(r=v(),r!==x?(45===t.charCodeAt(Zt)?(i=qt,Zt++):(i=x,0===ie&&o(Bt)),i===x&&(i=null),i!==x?(t.substr(Zt,3)===Ut?(u=Ut,Zt+=3):(u=x,0===ie&&o(Nt)),u!==x?(te=e,n=zt(n),e=n):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x)):(Zt=e,e=x))))))),ie--,e===x&&(n=x,0===ie&&o(mt)),e}function h(){var e,n,r;return ie++,e=Zt,n=g(),n!==x?(t.substr(Zt,2)===$t?(r=$t,Zt+=2):(r=x,0===ie&&o(Ht)),r!==x?(te=e,n=Wt(n),e=n):(Zt=e,e=x)):(Zt=e,e=x),ie--,e===x&&(n=x,0===ie&&o(Dt)),e}function g(){var e,n,r;if(ie++,e=Zt,n=[],Gt.test(t.charAt(Zt))?(r=t.charAt(Zt),Zt++):(r=x,0===ie&&o(Jt)),r!==x)for(;r!==x;)n.push(r),Gt.test(t.charAt(Zt))?(r=t.charAt(Zt),Zt++):(r=x,0===ie&&o(Jt));else n=x;return n!==x&&(te=e,n=Kt()),e=n,ie--,e===x&&(n=x,0===ie&&o(Xt)),e}function v(){var e,n;for(ie++,e=[],Vt.test(t.charAt(Zt))?(n=t.charAt(Zt),Zt++):(n=x,0===ie&&o(Yt));n!==x;)e.push(n),Vt.test(t.charAt(Zt))?(n=t.charAt(Zt),Zt++):(n=x,0===ie&&o(Yt));return ie--,e===x&&(n=x,0===ie&&o(Qt)),e}var m,b=arguments.length>1?arguments[1]:{},x={},_={Program:a},w=a,E={type:"other",description:"program"},S=function(t,e,n){return t.angle=e,t.condition=n,t},P={type:"other",description:"angle"},k="random",I={type:"literal",value:"random",description:'"random"'},C="angle",M={type:"literal",value:"angle",description:'"angle"'},A=function(t,e){return{random:null!==t,influence:e}},O=function(){return null},j={type:"other",description:"modifier"},R="influenced by",T={type:"literal",value:"influenced by",description:'"influenced by"'},F=function(t){return t},L={type:"other",description:"influence"},q="flow",B={type:"literal",value:"flow",description:'"flow"'},U="field",N={type:"literal",value:"field",description:'"field"'},z=function(){return"flowField"},D="orientation to center",$={type:"literal",value:"orientation to center",description:'"orientation to center"'},H=function(){return"centerOrientation"},W={type:"other",description:"condition"},X="only draw if",G={type:"literal",value:"only draw if",description:'"only draw if"'},J="intersecting last",K={type:"literal",value:"intersecting last",description:'"intersecting last"'},Q="or first",V={type:"literal",value:"or first",description:'"or first"'},Y=function(t){return{intersect:!0,last:t}},Z="not intersecting last",tt={type:"literal",value:"not intersecting last",description:'"not intersecting last"'},et=function(t){return{intersect:!1,last:t}},nt="intersecting",rt={type:"literal",value:"intersecting",description:'"intersecting"'},it=function(){return{intersect:!0}},ot="not intersecting",ut={type:"literal",value:"not intersecting",description:'"not intersecting"'},at=function(){return{intersect:!1}},st={type:"other",description:"object"},ct=function(t,e){return{size:t,shape:e}},lt={type:"other",description:"shape"},ft="line",pt={type:"literal",value:"line",description:'"line"'},dt=function(){return{type:n()}},yt="circle",ht={type:"literal",value:"circle",description:'"circle"'},gt=function(){return{type:n()}},vt=function(t){return{type:"polygon",n:t}},mt={type:"other",description:"polygon"},bt="triangle",xt={type:"literal",value:"triangle",description:'"triangle"'},_t=function(){return 3},wt="square",Et={type:"literal",value:"square",description:'"square"'},St=function(){return 4},Pt="pentagon",kt={type:"literal",value:"pentagon",description:'"pentagon"'},It=function(){return 5},Ct="hexagon",Mt={type:"literal",value:"hexagon",description:'"hexagon"'},At=function(){return 6},Ot="septagon",jt={type:"literal",value:"septagon",description:'"septagon"'},Rt=function(){return 7},Tt="octagon",Ft={type:"literal",value:"octagon",description:'"octagon"'},Lt=function(){return 8},qt="-",Bt={type:"literal",value:"-",description:'"-"'},Ut="gon",Nt={type:"literal",value:"gon",description:'"gon"'},zt=function(t){return t},Dt={type:"other",description:"size"},$t="px",Ht={type:"literal",value:"px",description:'"px"'},Wt=function(t){return t},Xt={type:"other",description:"integer"},Gt=/^[0-9]/,Jt={type:"class",value:"[0-9]",description:"[0-9]"},Kt=function(){return parseInt(n(),10)},Qt={type:"other",description:"whitespace"},Vt=/^[ \t\n\r]/,Yt={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},Zt=0,te=0,ee=[{line:1,column:1,seenCR:!1}],ne=0,re=[],ie=0;if("startRule"in b){if(!(b.startRule in _))throw new Error("Can't start parsing from rule \""+b.startRule+'".');w=_[b.startRule]}if(m=w(),m!==x&&Zt===t.length)return m;throw m!==x&&Zt<t.length&&o({type:"end",description:"end of input"}),u(null,re,ne<t.length?t.charAt(ne):null,ne<t.length?i(ne,ne+1):i(ne,ne))}return t(e,Error),{SyntaxError:e,parse:n}}()},function(t,e,n){e=t.exports=n(5)(),e.push([t.id,"body,html{background:#111;color:#eee;font-family:monospace;color:#3c3}#wrapper{width:600px;margin:0 auto}textarea{width:89%;border:0}input,textarea{color:#3c3;font-family:monospace;background:transparent;font-size:16px;outline:none;height:40px}input{width:10%;float:right;border:1px solid #3c3}input,select{cursor:pointer}select{font-family:monospace;background:transparent;color:#3c3;border:none}#output{clear:both;position:relative}#errors{position:absolute;top:0;background:rgba(0,0,0,.8);width:600;font-size:16px;color:red}",""])},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=d[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],e))}else{for(var u=[],o=0;o<r.parts.length;o++)u.push(c(r.parts[o],e));d[r.id]={id:r.id,refs:1,parts:u}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],u=i[1],a=i[2],s=i[3],c={css:u,media:a,sourceMap:s};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(t,e){var n=g(),r=b[b.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function u(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1);
}function a(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function s(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function c(t,e){var n,r,i;if(e.singleton){var o=m++;n=v||(v=a(e)),r=l.bind(null,n,o,!1),i=l.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=p.bind(null,n),i=function(){u(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),r=f.bind(null,n),i=function(){u(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function l(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),u=t.childNodes;u[e]&&t.removeChild(u[e]),u.length?t.insertBefore(o,u[e]):t.appendChild(o)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var d={},y=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},h=y(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=y(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,m=0,b=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=h()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],u=0;u<n.length;u++){var a=n[u],s=d[a.id];s.refs--,o.push(s)}if(t){var c=i(t);r(c,e)}for(var u=0;u<o.length;u++){var s=o[u];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete d[s.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var r=n(20);"string"==typeof r&&(r=[[t.id,r,""]]);n(21)(r,{});r.locals&&(t.exports=r.locals)}]);